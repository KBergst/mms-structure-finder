# mms-structure-finder
NOTE: documentation (Especially in-code) may be out of date!
NOTE: if viewing from DataSpace, you will need to populate the MMS folder tree with data from the MMS science data center yourself (https://lasp.colorado.edu/mms/sdc/public/).

Houses my code developed to identify plasmoids and current sheets in MMS data, and do statistics on them. Built for the MMS CDF files of the July 26, 2017 turbulent reconnection event in the magnetotail.

Installation:

The code was developed in Python 3, and requireds Python 3.7 or higher to run (due to requirements of the cdflib package used). The code (should) be system-independent, though it was developed on a Windows system. The code depends one some python packages (e.g. numpy, scipy, matplotlib, cdflib), so these may need to be installed before the code will run on your system. After cloning the repository to your local machine, and installing any necessary python packages, run mms_curlometer.py to populate curlometer_files.txt with the correct paths. After this, the code should run correctly. Email kbergste@pppl.gov if you experience any problems. 

Usage:

The repository currently contains two python scripts, as well as supporting python modules and data in both text and CDF form.

Brief description of the different files:

  Curlometer_data- directory containing text file outputs of the mms_curlometer script
  
    curlometer_files.txt- a text file containing the local paths to the currect curlometer output files. Is generated by mms_curlometer.py.
    
    output*.txt- output files from the mms_curlometer.py script with time and current density data (in amps)
    
  Feature_search- directory that is not part of the repository, but will be populated with outputs from the mms_feature_search.py script.
  
    statistics- directory containing statistical outputs from the mms_feature_search.py script
    
    structure_scale_comparisons- directory containing zoomed-out look at structures to evaluate the performance of the selection mechanism, namely the selection of the structural extent.
    
    MMS#_crossing*.png- the output graphs for a single structure identified by mms_feature_search.py
  
  MMS- directory containing data from each MMS satellite in the time period of interest, organized in sub-directories by spacecraft
  
    *_file_location_key.txt- file containing a list of the filenames that contain * data (e.g. magnetic field, des (electron moments), dis (ion moments))
  
    *.cdf- the MMS CDF data in question
  ms_feature_search- directory that is not part of the repository, but will be populated with outputs from the mms_multispacecraft_feature_search.py script.
  
    statistics- directory containing statistical outputs from the mms_multispacecraft_feature_search.py script

    MMS_ms_crossing*.png- the output graphs for a single structure identified by mms_multispacecraft_feature_search.py

  key_for_curlometer.txt- text file containing the end text of the files needed for the mms_curlometer.py script. Works for all spacecraft.
  
  mms_curlometer.py- python script for computing the curlometer current density
  
  mms_feature_search.py- python script for identifying structures in MMS data and doing statistics on them

  mms_multispacecraft_feature_search.py- python script for identifying structures in MMS data and doing statistics on them, including multi-spacecraft techniques. Uses all modules mms_feature_search does.
  
  mmsarrays.py- module for mms_feature_search that contains functions for basic array operations
  
  mmsdata.py- module for mms_feature_search that contains functions for reading in data from files

  mmsmultispacecraft.py- module for mms_multispacecraft_feature_search that contains functions for multispacecraft analysis techniques
  
  mmsplotting.py- module for mms_feature_search that contains functions for plotting
  
  mmsstructs.py- module for mms_feature_search that contains functions for identifying structures, slicing the data, and other related functionality
  
  mmstimes.py- module for mms_feature_search that contains functions for converting to/from the mms time convention (TT2000)
  
  plasmaparams.py- module for mms_feature_search that contains functions for computing plasma parameters (plasma frequency, electron velocity from curlometer, etc)